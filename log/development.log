Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started GET "/" for 127.0.0.1 at 2025-10-22 18:43:47 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | GC: 3.3ms)
Completed 200 OK in 65ms (Views: 14.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 25.9ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:43:58 -0400
Processing by MediaItemsController#movies as HTML
Completed 401 Unauthorized in 8ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:43:58 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.9ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 1.0ms)
Completed 200 OK in 37ms (Views: 12.5ms | ActiveRecord: 5.9ms (0 queries, 0 cached) | GC: 4.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 18:44:00 -0400
Processing by MediaItemsController#tv as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:44:00 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 18:44:01 -0400
Processing by MediaItemsController#anime as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:44:01 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 18:44:01 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.5ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.8ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:44:02 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 18:44:03 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:44:04 -0400
Processing by MediaItemsController#movies as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:44:04 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:44:06 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:44:10 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 18:44:21 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.5ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 2.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.5ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 18:44:51 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (8.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | GC: 0.5ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.8ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 3.5ms)
Completed 422 Unprocessable Content in 370ms (Views: 7.6ms | ActiveRecord: 8.4ms (1 query, 0 cached) | GC: 31.3ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 18:45:00 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (5.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "stripe_customer_id", "subscription_status", "tmdb_api_key") VALUES ('beffiom@protonmail.com', '$2a$12$fFu8zU.aT1jXpLdtZZoa7u/j.UTXev6i67NeX3a8ygnHno5mNAWjO', NULL, NULL, NULL, '2025-10-22 22:45:00.420950', '2025-10-22 22:45:00.420950', NULL, NULL, NULL) RETURNING "id" /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 344ms (ActiveRecord: 20.6ms (2 queries, 0 cached) | GC: 8.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:45:00 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 12.2ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 0.8ms)
Completed 200 OK in 42ms (Views: 12.9ms | ActiveRecord: 3.5ms (3 queries, 0 cached) | GC: 2.9ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 18:45:14 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 18:45:16 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 18:45:19 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 18:45:23 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.2ms)
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 18:45:23 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:45:24 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.3ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/media_items/search?media_type=movie" for 127.0.0.1 at 2025-10-22 18:45:26 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"media_type" => "movie"}
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=fight+club&media_type=movie&commit=search" for 127.0.0.1 at 2025-10-22 18:45:31 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "fight club", "media_type" => "movie", "commit" => "search"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.9ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 2.6ms)
Completed 200 OK in 21ms (Views: 5.4ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 3.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 18:45:35 -0400
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started PUT "/users" for 127.0.0.1 at 2025-10-22 18:46:19 -0400
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "tmdb_api_key" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "current_password" => "[FILTERED]"}, "commit" => "update"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 332ms (Views: 3.9ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PUT "/users" for 127.0.0.1 at 2025-10-22 18:47:03 -0400
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "tmdb_api_key" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "current_password" => "[FILTERED]"}, "commit" => "update"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 369ms (Views: 4.0ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 18:47:07 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 39ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 20.3ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:47:07 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:47:08 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:47:15 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Completed 401 Unauthorized in 312ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:47:20 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 342ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.8ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:47:21 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/index.html.erb:6
  Rendered media_items/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.8ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.8ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:47:33 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.6ms)
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.6ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 18:50:14 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 14ms (ActiveRecord: 1.8ms (1 query, 0 cached) | GC: 1.6ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:50:14 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:50:17 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 18:50:18 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:50:21 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:50:27 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Completed 401 Unauthorized in 377ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 18:50:30 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 230ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:50:31 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 18:50:36 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:50:37 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 18:53:38 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 8.3ms | ActiveRecord: 5.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 18:53:44 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 18:53:46 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:34:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 18:53:47 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 18:53:51 -0400
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:00:36 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
  
ArgumentError (Invalid route name, already in use: 'edit_user_password' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:6:in 'block (2 levels) in <main>'
config/routes.rb:5:in 'block in <main>'
config/routes.rb:1:in '<main>'
Started GET "/favicon.ico" for 127.0.0.1 at 2025-10-22 19:00:37 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2025-10-22 19:00:48 -0400
  
ActionController::RoutingError (No route matches [GET] "/"):
  
Started GET "/" for 127.0.0.1 at 2025-10-22 19:02:58 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
  
ArgumentError (Invalid route name, already in use: 'edit_user_password' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:6:in 'block (2 levels) in <main>'
config/routes.rb:5:in 'block in <main>'
config/routes.rb:1:in '<main>'
Started GET "/" for 127.0.0.1 at 2025-10-22 19:03:49 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/index.html.erb:6
  Rendered media_items/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 5.9ms | ActiveRecord: 11.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:03:55 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method 'update_user_api_key_path' for an instance of #<Class:0x00007fd98adc38e8>)
Caused by: NameError (undefined local variable or method 'update_user_api_key_path' for an instance of #<Class:0x00007fd98adc38e8>)

Information for: ActionView::Template::Error (undefined local variable or method 'update_user_api_key_path' for an instance of #<Class:0x00007fd98adc38e8>):
    3: 
    4:   <div class="field">
    5:     <%= form_with url: update_user_api_key_path, method: :patch, local: true, class: "inline" do |f| %>
    6:       <%= label_tag :tmdb_api_key, "tmdb api key" %>
    7:       <%= text_field_tag :tmdb_api_key, current_user.tmdb_api_key, autocomplete: "off" %>
    8:       <% if current_user.tmdb_api_key.present? %>
    9:         <span class="icon-check">✔</span>
  
app/views/devise/registrations/edit.html.erb:6

Information for cause: NameError (undefined local variable or method 'update_user_api_key_path' for an instance of #<Class:0x00007fd98adc38e8>):
  
app/views/devise/registrations/edit.html.erb:6
Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:04:18 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 4.8ms | ActiveRecord: 3.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:06:46 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.6ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:07:50 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 1.6ms)
Completed 200 OK in 23ms (Views: 8.9ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 3.4ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:07:52 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 7ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:07:52 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:07:57 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:08:01 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'beffiom@protonmail.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 234ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:08:01 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.5ms)
Completed 200 OK in 15ms (Views: 5.4ms | ActiveRecord: 2.6ms (3 queries, 0 cached) | GC: 1.5ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:08:07 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.1ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 1.2ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 1.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:08:14 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.7ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.5ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 19:08:15 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.4ms | GC: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.6ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:08:17 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:09:16 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 4.7ms | ActiveRecord: 1.9ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:09:36 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/index.html.erb:6
  Rendered media_items/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:09:38 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:09:39 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:09:39 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.4ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:09:41 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:11:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20251022231127_add_username_to_users.rb


):
  
activerecord (8.1.0) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.1.0) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.1.0) lib/active_support/file_update_checker.rb:88:in 'ActiveSupport::FileUpdateChecker#execute'
activesupport (8.1.0) lib/active_support/file_update_checker.rb:98:in 'ActiveSupport::FileUpdateChecker#execute_if_updated'
activerecord (8.1.0) lib/active_record/migration.rb:667:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.1.0) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.1.0) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.1.0) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.1.0) lib/active_support/callbacks.rb:101:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.1.0) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.1.0) lib/action_dispatch/middleware/executor.rb:20:in 'ActionDispatch::Executor#call'
actionpack (8.1.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.1.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.1.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.1.0) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.1.0) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
propshaft (1.3.1) lib/propshaft/quiet_assets.rb:11:in 'Propshaft::QuietAssets#call'
actionpack (8.1.0) lib/action_dispatch/middleware/remote_ip.rb:98:in 'ActionDispatch::RemoteIp#call'
actionpack (8.1.0) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.3) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.3) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.1.0) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.1.0) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.1.0) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.1.0) lib/action_dispatch/middleware/executor.rb:20:in 'ActionDispatch::Executor#call'
propshaft (1.3.1) lib/propshaft/server.rb:37:in 'Propshaft::Server#call'
actionpack (8.1.0) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.3) lib/rack/sendfile.rb:131:in 'Rack::Sendfile#call'
actionpack (8.1.0) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.1.0) lib/rails/engine.rb:534:in 'Rails::Engine#call'
puma (7.1.0) lib/puma/configuration.rb:300:in 'Puma::Configuration::ConfigMiddleware#call'
puma (7.1.0) lib/puma/request.rb:101:in 'block in Puma::Request#handle_request'
puma (7.1.0) lib/puma/thread_pool.rb:355:in 'Puma::ThreadPool#with_force_shutdown'
puma (7.1.0) lib/puma/request.rb:100:in 'Puma::Request#handle_request'
puma (7.1.0) lib/puma/server.rb:503:in 'Puma::Server#process_client'
puma (7.1.0) lib/puma/server.rb:262:in 'block in Puma::Server#run'
puma (7.1.0) lib/puma/thread_pool.rb:182:in 'block in Puma::ThreadPool#spawn_thread'
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3376256833918853745) /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Mediatrack'*/[0m
Migrating to AddUsernameToUsers (20251022231127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Mediatrack'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "username" character varying NOT NULL /*application='Mediatrack'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Mediatrack'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3376256833918853745) /*application='Mediatrack'*/[0m
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3376256833918853745) /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Mediatrack'*/[0m
Migrating to AddUsernameToUsers (20251022231127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Mediatrack'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "username" character varying /*application='Mediatrack'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1000 /*application='Mediatrack'*/[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "username" = 'demo' WHERE "users"."id" = 1 /*application='Mediatrack'*/[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "username" = 'beffiom' WHERE "users"."id" = 2 /*application='Mediatrack'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "username" SET NOT NULL /*application='Mediatrack'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251022231127') RETURNING "version" /*application='Mediatrack'*/[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mCOMMIT /*application='Mediatrack'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3376256833918853745) /*application='Mediatrack'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Mediatrack'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Mediatrack'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Mediatrack'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Mediatrack'*/[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:14:49 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)


  
ActionView::Template::Error (undefined method 'username' for an instance of User)
Caused by: NoMethodError (undefined method 'username' for an instance of User)

Information for: ActionView::Template::Error (undefined method 'username' for an instance of User):
    4:   <div class="field">
    5:     <%= f.label :username, "username" %><br />
    6:     <%= f.text_field :username, autofocus: true, autocomplete: "username" %>
    7:   </div>
    8: 
    9:   <div class="field">
   10:     <%= f.label :password, "password" %><br />
  
app/views/devise/sessions/new.html.erb:7
app/views/devise/sessions/new.html.erb:4

Information for cause: NoMethodError (undefined method 'username' for an instance of User):
  
app/views/devise/sessions/new.html.erb:7
app/views/devise/sessions/new.html.erb:4
Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:14:50 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.5ms)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


  
ActionView::Template::Error (undefined method 'username' for an instance of User)
Caused by: NoMethodError (undefined method 'username' for an instance of User)

Information for: ActionView::Template::Error (undefined method 'username' for an instance of User):
    4:   <div class="field">
    5:     <%= f.label :username, "username" %><br />
    6:     <%= f.text_field :username, autofocus: true, autocomplete: "username" %>
    7:   </div>
    8: 
    9:   <div class="field">
   10:     <%= f.label :password, "password" %><br />
  
app/views/devise/sessions/new.html.erb:7
app/views/devise/sessions/new.html.erb:4

Information for cause: NoMethodError (undefined method 'username' for an instance of User):
  
app/views/devise/sessions/new.html.erb:7
app/views/devise/sessions/new.html.erb:4
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started GET "/" for 127.0.0.1 at 2025-10-22 19:15:20 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 13.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:15:21 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 6.5ms | ActiveRecord: 6.4ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:15:27 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'beffiom' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 323ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:15:27 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 7.8ms | ActiveRecord: 3.4ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:15:32 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:15:37 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 7ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:15:37 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:15:40 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:15:44 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:17:51 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.7ms | GC: 1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | GC: 3.5ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 5.6ms)
Completed 200 OK in 40ms (Views: 17.0ms | ActiveRecord: 1.6ms (0 queries, 0 cached) | GC: 23.2ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:18:00 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.7ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 2.4ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 5.5ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:18:06 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.6ms | GC: 1.3ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.9ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 1.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:19:53 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.0ms | ActiveRecord: 1.6ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:21:00 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:21:03 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:22:00 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:22:11 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'beffiom' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 317ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:22:12 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 2 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 6.1ms | ActiveRecord: 3.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:22:18 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/users" for 127.0.0.1 at 2025-10-22 19:22:24 -0400
Processing by Users::RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "current_password" => "[FILTERED]", "commit" => "confirm"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mWatchlistItem Load (1.7ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 2 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 2 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 27ms (ActiveRecord: 16.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:22:24 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:22:33 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:22:38 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'beffiom' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 312ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:26:58 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'beffiom' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Completed 401 Unauthorized in 7ms (ActiveRecord: 1.9ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 336ms (Views: 5.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:27:02 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:27:07 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:27:09 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 19:27:17 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
[31mUnpermitted parameter: :email. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f292078d020>, params: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account", "controller" => "users/registrations", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('hanzo') LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 376ms (Views: 3.1ms | ActiveRecord: 4.8ms (1 query, 0 cached) | GC: 0.4ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 19:27:32 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
[31mUnpermitted parameter: :email. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f29209aa330>, params: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account", "controller" => "users/registrations", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('hanzo') LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 2.1ms)
Completed 422 Unprocessable Content in 388ms (Views: 4.8ms | ActiveRecord: 2.9ms (1 query, 0 cached) | GC: 2.3ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 19:29:05 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
[31mUnpermitted parameter: :email. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f29209f4b10>, params: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account", "controller" => "users/registrations", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('hanzo') LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "stripe_customer_id", "subscription_status", "tmdb_api_key", "username") VALUES ('', '$2a$12$IJeE1U6OqIMUXmjukW8ROu9zylfv7aaz8/nDMzF6TTJHkd18xrhQy', NULL, NULL, NULL, '2025-10-22 23:29:06.174939', '2025-10-22 23:29:06.174939', NULL, NULL, NULL, 'hanzo') RETURNING "id" /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (32.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 426ms (ActiveRecord: 37.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:29:06 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 3 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 3 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 7.1ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 1.0ms)
Completed 200 OK in 43ms (Views: 10.0ms | ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 19.7ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:29:11 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:29:12 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:29:12 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:29:14 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.6ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 1.3ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:29:17 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'hanzo' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Completed 401 Unauthorized in 321ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.7ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:29:22 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "hanzo", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'hanzo' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 314ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:29:22 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 3 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 3 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:29:26 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.4ms)


Started DELETE "/users" for 127.0.0.1 at 2025-10-22 19:29:35 -0400
Processing by Users::RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "current_password" => "[FILTERED]", "commit" => "confirm"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/users/edit
↳ app/controllers/users/registrations_controller.rb:36:in 'Users::RegistrationsController#destroy'
Completed 302 Found in 313ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:29:35 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/users" for 127.0.0.1 at 2025-10-22 19:29:39 -0400
Processing by Users::RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "current_password" => "[FILTERED]", "commit" => "confirm"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/users/edit
↳ app/controllers/users/registrations_controller.rb:36:in 'Users::RegistrationsController#destroy'
Completed 302 Found in 312ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:29:39 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.3ms)


Started DELETE "/users" for 127.0.0.1 at 2025-10-22 19:29:46 -0400
Processing by Users::RegistrationsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "current_password" => "[FILTERED]", "commit" => "confirm"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:30:in 'Users::RegistrationsController#destroy'
  [1m[36mWatchlistItem Load (1.6ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 3 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:30:in 'Users::RegistrationsController#destroy'
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 3 /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:30:in 'Users::RegistrationsController#destroy'
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:30:in 'Users::RegistrationsController#destroy'
Redirected to http://127.0.0.1:3000/
↳ app/controllers/users/registrations_controller.rb:34:in 'block in Users::RegistrationsController#destroy'
Completed 302 Found in 352ms (ActiveRecord: 16.9ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:29:46 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-10-22 19:29:51 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2025-10-22 19:30:05 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account"}
[31mUnpermitted parameter: :email. Context: { controller: Users::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f2924c39610>, params: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "create account", "controller" => "users/registrations", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Exists? (5.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('beffiom') LIMIT 1 /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "stripe_customer_id", "subscription_status", "tmdb_api_key", "username") VALUES ('', '$2a$12$rTseVVSqV3deDOMO4kq.XeeWvn6U7GeQy6Zmb4YVeydpQ5fGhz2B6', NULL, NULL, NULL, '2025-10-22 23:30:06.190822', '2025-10-22 23:30:06.190822', NULL, NULL, NULL, 'beffiom') RETURNING "id" /*action='create',application='Mediatrack',controller='registrations'*/[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 340ms (ActiveRecord: 20.7ms (2 queries, 0 cached) | GC: 3.4ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:30:06 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:31:01 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 18.2ms | ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 11.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2025-10-22 19:31:02 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-10-22 19:31:02 -0400
Processing by MediaItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/index.html.erb within layouts/application
  Rendered media_items/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:31:10 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2025-10-22 19:31:14 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"username" => "beffiom", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = 'beffiom' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='sessions'*/[0m
Redirected to http://127.0.0.1:3000/movies
Completed 303 See Other in 314ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:31:15 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.6ms)
Completed 200 OK in 17ms (Views: 5.8ms | ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 1.5ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:31:34 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:31:36 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 4.1ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 1.9ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:31:37 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 3.9ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 1.4ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:31:38 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.6ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:31:39 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:31:40 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:31:42 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.9ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.6ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:31:42 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:31:44 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.2ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:31:46 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 4.0ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:31:47 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 19:31:47 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 11.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:31:49 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started PATCH "/settings/api_key" for 127.0.0.1 at 2025-10-22 19:32:11 -0400
Processing by Users::RegistrationsController#update_api_key as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "tmdb_api_key" => "[FILTERED]", "commit" => "set"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('beffiom') AND "users"."id" != 4 LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
Redirected to http://127.0.0.1:3000/users/edit
↳ app/controllers/users/registrations_controller.rb:24:in 'Users::RegistrationsController#update_api_key'
Completed 302 Found in 9ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:32:11 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started PATCH "/settings/api_key" for 127.0.0.1 at 2025-10-22 19:32:19 -0400
Processing by Users::RegistrationsController#update_api_key as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "tmdb_api_key" => "[FILTERED]", "commit" => "set"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('beffiom') AND "users"."id" != 4 LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
Redirected to http://127.0.0.1:3000/users/edit
↳ app/controllers/users/registrations_controller.rb:24:in 'Users::RegistrationsController#update_api_key'
Completed 302 Found in 8ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:32:19 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started PATCH "/settings/api_key" for 127.0.0.1 at 2025-10-22 19:45:20 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by Users::RegistrationsController#update_api_key as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "tmdb_api_key" => "[FILTERED]", "commit" => "set"}
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:21:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:22:in 'Users::RegistrationsController#update_api_key'
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER('beffiom') AND "users"."id" != 4 LIMIT 1 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:22:in 'Users::RegistrationsController#update_api_key'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-10-22 23:45:20.535265', "tmdb_api_key" = 'bd3f9a53a8bf560361d51997cf254be2' WHERE "users"."id" = 4 /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:22:in 'Users::RegistrationsController#update_api_key'
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mCOMMIT /*action='update_api_key',application='Mediatrack',controller='registrations'*/[0m
  ↳ app/controllers/users/registrations_controller.rb:22:in 'Users::RegistrationsController#update_api_key'
Redirected to http://127.0.0.1:3000/users/edit
↳ app/controllers/users/registrations_controller.rb:23:in 'Users::RegistrationsController#update_api_key'
Completed 302 Found in 93ms (ActiveRecord: 26.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 19:45:20 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:45:23 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.9ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 5.6ms | ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?media_type=movie" for 127.0.0.1 at 2025-10-22 19:45:25 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"media_type" => "movie"}
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=fight+club&media_type=movie&commit=search" for 127.0.0.1 at 2025-10-22 19:45:33 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "fight club", "media_type" => "movie", "commit" => "search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 145ms (Views: 4.7ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 19:45:42 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 550 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 550 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (550, 'Fight Club', 'movie', NULL, '/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg', '1999-10-15', '2025-10-22 23:45:42.102817', '2025-10-22 23:45:42.102817') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2924d4b378>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg", "release_date" => "1999-10-15", "status" => "planned", "title" => "Fight Club", "tmdb_id" => "550", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 4 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 4, 'planned', NULL, '2025-10-22 23:45:42.137046', '2025-10-22 23:45:42.137046') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=fight+club&media_type=movie&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 60ms (ActiveRecord: 20.2ms (6 queries, 0 cached) | GC: 9.7ms)


Started GET "/media_items/search?q=fight+club&media_type=movie&commit=search" for 127.0.0.1 at 2025-10-22 19:45:42 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "fight club", "media_type" => "movie", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.6ms)
Completed 200 OK in 72ms (Views: 4.7ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:45:44 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.4ms)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 1.8ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:45:51 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "id" => "4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f29202364a0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (0.2ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'watched', "watched_on" = '2025-10-22', "updated_at" = '2025-10-22 23:45:51.904786' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 14ms (ActiveRecord: 4.9ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:45:51 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.3ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.6ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:46:21 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f29205af3c0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (1.3ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'planned', "updated_at" = '2025-10-22 23:46:21.386149' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 25ms (ActiveRecord: 16.1ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:46:21 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.3ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:47:21 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "id" => "4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f2920a99d90>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (1.8ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'watched', "updated_at" = '2025-10-22 23:47:21.500046' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 26ms (ActiveRecord: 16.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:47:21 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.9ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 9.9ms | ActiveRecord: 1.8ms (3 queries, 0 cached) | GC: 0.3ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:47:29 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f2923f40508>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (1.2ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'planned', "updated_at" = '2025-10-22 23:47:29.582592' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 27ms (ActiveRecord: 18.9ms (3 queries, 0 cached) | GC: 2.7ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:47:29 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:47:50 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f292060d7b8>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "commit" => "mark watched", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (1.3ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'watched', "updated_at" = '2025-10-22 23:47:50.955788' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 25ms (ActiveRecord: 16.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:47:50 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:32
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:54:17 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (1.1ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:31
  Rendered media_items/section.html.erb within layouts/application (Duration: 13.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 0.2ms)
Completed 200 OK in 38ms (Views: 14.8ms | ActiveRecord: 13.4ms (3 queries, 0 cached) | GC: 1.0ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:54:23 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :commit, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f29208c91a0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "planned", "commit" => "move to planned", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (1.2ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'planned', "updated_at" = '2025-10-22 23:54:23.708653' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 24ms (ActiveRecord: 15.9ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:54:23 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:31
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.3ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:56:29 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 11.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 14.2ms | ActiveRecord: 7.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:56:31 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f2922dec8b0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (0.2ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'watched', "updated_at" = '2025-10-22 23:56:31.808512' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 28ms (ActiveRecord: 18.7ms (3 queries, 0 cached) | GC: 0.7ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:56:31 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.6ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 1.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:57:39 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 11.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 1.0ms)
Completed 200 OK in 33ms (Views: 14.5ms | ActiveRecord: 4.6ms (3 queries, 0 cached) | GC: 1.8ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:57:41 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "planned", "id" => "4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f2920a450b0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "planned", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (0.2ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'planned', "updated_at" = '2025-10-22 23:57:41.529328' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (32.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 44ms (ActiveRecord: 35.5ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:57:41 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.6ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.3ms)


Started PATCH "/watchlist_items/4" for 127.0.0.1 at 2025-10-22 19:57:46 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 4 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f2923f87278>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "watched", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "update", "id" => "4"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (4.1ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'watched', "updated_at" = '2025-10-22 23:57:46.496446' WHERE "watchlist_items"."id" = 4 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/movies
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 36ms (ActiveRecord: 19.5ms (3 queries, 0 cached) | GC: 7.4ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:57:46 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.6ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 3.1ms)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 6.5ms)


Started GET "/media_items/search?media_type=movie" for 127.0.0.1 at 2025-10-22 19:57:50 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"media_type" => "movie"}
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 6.5ms | GC: 5.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 7.0ms)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 9.4ms)


Started GET "/media_items/search?q=office+space&media_type=movie&commit=search" for 127.0.0.1 at 2025-10-22 19:57:54 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "office space", "media_type" => "movie", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 12.5ms | GC: 9.2ms)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | GC: 9.2ms)
Completed 200 OK in 133ms (Views: 18.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 16.5ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 19:57:56 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 1542 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 1542 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (1542, 'Office Space', 'movie', NULL, '/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg', '1999-02-19', '2025-10-22 23:57:56.981223', '2025-10-22 23:57:56.981223') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29209573b0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/v7fBXxHZ5WQn2PGgpXhTqHgtcJk.jpg", "release_date" => "1999-02-19", "status" => "watched", "title" => "Office Space", "tmdb_id" => "1542", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 5 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.5ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 5, 'watched', '2025-10-22', '2025-10-22 23:57:57.010936', '2025-10-22 23:57:57.010936') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=office+space&media_type=movie&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 54ms (ActiveRecord: 22.5ms (6 queries, 0 cached) | GC: 19.1ms)


Started GET "/media_items/search?q=office+space&media_type=movie&commit=search" for 127.0.0.1 at 2025-10-22 19:57:57 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "office space", "media_type" => "movie", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.6ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 1.6ms)
Completed 200 OK in 86ms (Views: 5.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 2.8ms)


Started GET "/media_items/search?q=naruto&media_type=anime&commit=search" for 127.0.0.1 at 2025-10-22 19:58:04 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "naruto", "media_type" => "anime", "commit" => "search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.5ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 1.1ms)
Completed 200 OK in 89ms (Views: 6.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 2.5ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 19:59:09 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 46260 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 46260 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (46260, 'Naruto', 'tv', NULL, '/xppeysfvDKVx775MFuH8Z9BlpMk.jpg', '2002-10-03', '2025-10-22 23:59:09.584832', '2025-10-22 23:59:09.584832') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (32.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920732a80>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/xppeysfvDKVx775MFuH8Z9BlpMk.jpg", "release_date" => "2002-10-03", "status" => "watched", "title" => "Naruto", "tmdb_id" => "46260", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (5.4ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 6 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 6, 'watched', '2025-10-22', '2025-10-22 23:59:09.628146', '2025-10-22 23:59:09.628146') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=naruto&media_type=anime&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 57ms (ActiveRecord: 40.6ms (6 queries, 0 cached) | GC: 4.6ms)


Started GET "/media_items/search?q=naruto&media_type=anime&commit=search" for 127.0.0.1 at 2025-10-22 19:59:09 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "naruto", "media_type" => "anime", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.6ms)
Completed 200 OK in 128ms (Views: 6.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:59:19 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.3ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:59:21 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:59:22 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:59:24 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 19:59:25 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:59:27 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.4ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:59:29 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.3ms)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 4.1ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:59:30 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 19:59:31 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 19:59:33 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:28
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 19:59:49 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=jujutsu+kaisen&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 19:59:54 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "jujutsu kaisen", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 89ms (Views: 5.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=jujutsu+kaisen&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:01:25 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "jujutsu kaisen", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 8.1ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.7ms)
Completed 200 OK in 168ms (Views: 12.6ms | ActiveRecord: 2.7ms (1 query, 0 cached) | GC: 1.1ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:01:55 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 95479 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 95479 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (95479, 'JUJUTSU KAISEN', 'tv', NULL, '/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg', '2020-10-03', '2025-10-23 00:01:55.202936', '2025-10-23 00:01:55.202936') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (31.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292072a3d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fHpKWq9ayzSk8nSwqRuaAUemRKh.jpg", "release_date" => "2020-10-03", "status" => "watched", "title" => "JUJUTSU KAISEN", "tmdb_id" => "95479", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 7 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 7, 'watched', '2025-10-22', '2025-10-23 00:01:55.252073', '2025-10-23 00:01:55.252073') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=jujutsu+kaisen&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 70ms (ActiveRecord: 40.0ms (6 queries, 0 cached) | GC: 1.0ms)


Started GET "/media_items/search?q=jujutsu+kaisen&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:01:55 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "jujutsu kaisen", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 65ms (Views: 9.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:01:57 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:01:58 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" IN ('tv', 'anime') AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.9ms)
Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:01:59 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "media_items"."media_type" FROM "media_items" /*application='Mediatrack'*/[0m
Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:05:17 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 11.0ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 1.3ms)
Completed 200 OK in 33ms (Views: 13.4ms | ActiveRecord: 4.5ms (3 queries, 0 cached) | GC: 2.7ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:05:18 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.0ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 1.1ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:05:21 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:05:21 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.4ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:05:21 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.0ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.5ms)
Completed 200 OK in 10ms (Views: 5.1ms | ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:05:22 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 3.3ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 1.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:05:24 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:05:25 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.3ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."media_type" = 'tv' /*application='Mediatrack'*/[0m
Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:07:11 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:07:12 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.2ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 1.1ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 1.1ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Update All (14.9ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE "media_items"."id" IN (3, 6, 7) /*application='Mediatrack'*/[0m
Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:19 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:08:21 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:08:22 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:23 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:08:24 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=rascal+does+not+dream&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:08:31 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "rascal does not dream", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 132ms (Views: 5.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:08:36 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 82739 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 82739 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (82739, 'Rascal Does Not Dream of Bunny Girl Senpai', 'tv', NULL, '/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg', '2018-10-04', '2025-10-23 00:08:36.646262', '2025-10-23 00:08:36.646262') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922d321e0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 8 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 8, 'watched', '2025-10-22', '2025-10-23 00:08:36.674466', '2025-10-23 00:08:36.674466') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=rascal+does+not+dream&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 40ms (ActiveRecord: 18.9ms (6 queries, 0 cached) | GC: 5.9ms)


Started GET "/media_items/search?q=rascal+does+not+dream&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:08:36 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "rascal does not dream", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 6.3ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 1.3ms)
Completed 200 OK in 95ms (Views: 8.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.3ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:08:40 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29207ce390>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29207ce390>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 82739 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29207ce390>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f29207ce390>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/fbqDG7GjodvaNecgv1q8kfSNPl5.jpg", "release_date" => "2018-10-04", "status" => "watched", "title" => "Rascal Does Not Dream of Bunny Girl Senpai", "tmdb_id" => "82739", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 8 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=rascal+does+not+dream&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:10:in 'WatchlistItemsController#create'
Completed 302 Found in 14ms (ActiveRecord: 3.9ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/media_items/search?q=rascal+does+not+dream&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:08:40 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "rascal does not dream", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 5.5ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 1.6ms)
Completed 200 OK in 65ms (Views: 7.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.6ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:42 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:08:46 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 5.0ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:48 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:08:50 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=breaking+bad&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:08:53 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "breaking bad", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 6.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.6ms)
Completed 200 OK in 103ms (Views: 7.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.9ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:08:55 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 1396 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 1396 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.1ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (1396, 'Breaking Bad', 'tv', NULL, '/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg', '2008-01-20', '2025-10-23 00:08:55.920976', '2025-10-23 00:08:55.920976') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920a485d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/ztkUQFLlC19CCMYHW9o1zWhJRNq.jpg", "release_date" => "2008-01-20", "status" => "watched", "title" => "Breaking Bad", "tmdb_id" => "1396", "watched_on" => "2025-10-22", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 9 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 9, 'watched', '2025-10-22', '2025-10-23 00:08:55.926143', '2025-10-23 00:08:55.926143') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=breaking+bad&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 18ms (ActiveRecord: 4.5ms (6 queries, 0 cached) | GC: 2.4ms)


Started GET "/media_items/search?q=breaking+bad&media_type=&commit=search" for 127.0.0.1 at 2025-10-22 20:08:55 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "breaking bad", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 17.1ms | GC: 11.8ms)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | GC: 12.4ms)
Completed 200 OK in 105ms (Views: 18.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 16.8ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:58 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 8.5ms | GC: 4.2ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 4.8ms)
Completed 200 OK in 17ms (Views: 9.7ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 8.0ms)


Started PATCH "/watchlist_items/9" for 127.0.0.1 at 2025-10-22 20:08:59 -0400
Processing by WatchlistItemsController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "status" => "planned", "id" => "9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 9 LIMIT 1 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:15:in 'WatchlistItemsController#update'
[31mUnpermitted parameters: :_method, :authenticity_token, :id. Context: { controller: WatchlistItemsController, action: update, request: #<ActionDispatch::Request:0x00007f29205ca828>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "status" => "planned", "controller" => "watchlist_items", "action" => "update", "id" => "9"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mWatchlistItem Update (0.3ms)[0m  [1m[33mUPDATE "watchlist_items" SET "status" = 'planned', "updated_at" = '2025-10-23 00:08:59.151647' WHERE "watchlist_items"."id" = 9 /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:16:in 'WatchlistItemsController#update'
Redirected to http://127.0.0.1:3000/tv
↳ app/controllers/watchlist_items_controller.rb:17:in 'WatchlistItemsController#update'
Completed 302 Found in 33ms (ActiveRecord: 18.0ms (3 queries, 0 cached) | GC: 7.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:08:59 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 8.7ms | GC: 4.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 4.6ms)
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 7.4ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.8ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE (title LIKE '%Bunny Girl%') ORDER BY "media_items"."id" ASC LIMIT 1 /*application='Mediatrack'*/[0m
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Update All (14.6ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE "media_items"."id" = 8 /*application='Mediatrack'*/[0m
Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:26:42 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (1.1ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 10.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 12.1ms | ActiveRecord: 13.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:26:49 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:26:52 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | GC: 5.3ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 5.3ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 20:27:25 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.8ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.8ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:27:28 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.7ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/media_items/search?q=lilo+and+stitch&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:27:37 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "lilo and stitch", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 6.1ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 1.0ms)
Completed 200 OK in 129ms (Views: 8.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.5ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:27:43 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.3ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 11544 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 11544 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (11544, 'Lilo & Stitch', 'movie', NULL, '/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg', '2002-06-21', '2025-10-23 00:27:43.227298', '2025-10-23 00:27:43.227298') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (32.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f292021e760>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/m13Vbzv7R2GMAl3GXFrkmMEgCFQ.jpg", "release_date" => "2002-06-21", "status" => "planned", "title" => "Lilo & Stitch", "tmdb_id" => "11544", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 10 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.7ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 10, 'planned', NULL, '2025-10-23 00:27:43.269919', '2025-10-23 00:27:43.269919') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=lilo+and+stitch&media_type=&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 60ms (ActiveRecord: 41.8ms (6 queries, 0 cached) | GC: 0.5ms)


Started GET "/media_items/search?q=lilo+and+stitch&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:27:43 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "lilo and stitch", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.2ms)
Completed 200 OK in 74ms (Views: 5.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:27:45 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.1ms)
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:28:19 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:28:21 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.5ms | GC: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/media_items/search?q=frieren&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:28:25 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "frieren", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.1ms)
Completed 200 OK in 91ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.4ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:28:41 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 209867 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 209867 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (209867, 'Frieren: Beyond Journey''s End', 'tv', NULL, '/dqZENchTd7lp5zht7BdlqM7RBhD.jpg', '2023-09-29', '2025-10-23 00:28:41.945387', '2025-10-23 00:28:41.945387') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (32.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2922b7c300>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 11 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 11, 'planned', NULL, '2025-10-23 00:28:41.988080', '2025-10-23 00:28:41.988080') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=frieren&media_type=&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 57ms (ActiveRecord: 38.3ms (6 queries, 0 cached) | GC: 1.5ms)


Started GET "/media_items/search?q=frieren&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:28:42 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "frieren", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 143ms (Views: 4.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:28:43 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:28:45 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:28:46 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:29:29 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:30:37 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.7ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 7.6ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.9ms)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 1.5ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:30:40 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:30:41 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.6ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:30:42 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.1ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.8ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:30:44 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-10-22 20:30:46 -0400
Processing by Users::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Mediatrack',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:30:47 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.8ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:30:48 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 1.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:30:49 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:30:51 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.7ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/movies" for 127.0.0.1 at 2025-10-22 20:30:53 -0400
Processing by MediaItemsController#movies as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'planned' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'movie' AND "watchlist_items"."status" = 'watched' /*action='movies',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:30:54 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.9ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:30:56 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:30:58 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.7ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 2.2ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 2.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:30:59 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/watchlist_items/11" for 127.0.0.1 at 2025-10-22 20:31:00 -0400
Processing by WatchlistItemsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 11 LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:24:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mWatchlistItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "watchlist_items" WHERE "watchlist_items"."id" = 11 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
Redirected to http://127.0.0.1:3000/tv
↳ app/controllers/watchlist_items_controller.rb:26:in 'WatchlistItemsController#destroy'
Completed 302 Found in 18ms (ActiveRecord: 10.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:31:00 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-22 20:31:01 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=frieren&media_type=anime&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:31:09 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "frieren", "media_type" => "anime", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 111ms (Views: 5.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-22 20:31:17 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920d1a8d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920d1a8d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 209867 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920d1a8d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f2920d1a8d0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/dqZENchTd7lp5zht7BdlqM7RBhD.jpg", "release_date" => "2023-09-29", "status" => "planned", "title" => "Frieren: Beyond Journey's End", "tmdb_id" => "209867", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 11 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 11, 'planned', NULL, '2025-10-23 00:31:17.339890', '2025-10-23 00:31:17.339890') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (31.9ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=frieren&media_type=anime&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 44ms (ActiveRecord: 34.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=frieren&media_type=anime&source=&commit=search" for 127.0.0.1 at 2025-10-22 20:31:17 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "frieren", "media_type" => "anime", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 8.2ms)
Completed 200 OK in 62ms (Views: 11.7ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 8.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-22 20:31:19 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.2ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.9ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-22 20:31:20 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.8ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.4ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE (title LIKE '%Frieren%') ORDER BY "media_items"."id" ASC LIMIT 1 /*application='Mediatrack'*/[0m
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Update All (14.5ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE "media_items"."id" = 11 /*application='Mediatrack'*/[0m
Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:17:46 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.8ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 4.4ms | ActiveRecord: 11.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:17:49 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 2.4ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:18:18 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.7ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 19.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | GC: 0.0ms)
Completed 200 OK in 83ms (Views: 31.8ms | ActiveRecord: 23.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:18:19 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:18:19 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.6ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.6ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 6.9ms | ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?media_type=anime&source=anime" for 127.0.0.1 at 2025-10-23 18:18:23 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"media_type" => "anime", "source" => "anime"}
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=dragon+ball&media_type=anime&source=anime&commit=search" for 127.0.0.1 at 2025-10-23 18:18:29 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "dragon ball", "media_type" => "anime", "source" => "anime", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 167ms (Views: 7.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:18:36 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 12971 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 12971 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (12971, 'Dragon Ball Z', 'anime', NULL, '/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg', '1989-04-26', '2025-10-23 22:18:36.554227', '2025-10-23 22:18:36.554227') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7e74380>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/i1lMlxir5E4jyeLlqS2bK1Cn3Tt.jpg", "release_date" => "1989-04-26", "status" => "watched", "title" => "Dragon Ball Z", "tmdb_id" => "12971", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 12 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.5ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 12, 'watched', '2025-10-23', '2025-10-23 22:18:36.575755', '2025-10-23 22:18:36.575755') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=dragon+ball&media_type=anime&source=anime&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 35ms (ActiveRecord: 19.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=dragon+ball&media_type=anime&source=anime&commit=search" for 127.0.0.1 at 2025-10-23 18:18:36 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "dragon ball", "media_type" => "anime", "source" => "anime", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 5.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 99ms (Views: 7.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:18:40 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:18:44 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=one+piece&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-23 18:18:51 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "one piece", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 9.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 0.0ms)
Completed 200 OK in 115ms (Views: 10.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:18:55 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 37854 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (6.0ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 37854 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (37854, 'One Piece', 'tv', NULL, '/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg', '1999-10-20', '2025-10-23 22:18:55.204537', '2025-10-23 22:18:55.204537') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b79edca8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg", "release_date" => "1999-10-20", "status" => "watched", "title" => "One Piece", "tmdb_id" => "37854", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 13 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 13, 'watched', '2025-10-23', '2025-10-23 22:18:55.238215', '2025-10-23 22:18:55.238215') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=one+piece&media_type=&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 62ms (ActiveRecord: 26.4ms (6 queries, 0 cached) | GC: 27.3ms)


Started GET "/media_items/search?q=one+piece&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-23 18:18:55 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "one piece", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 19.2ms | GC: 4.6ms)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | GC: 4.6ms)
Completed 200 OK in 209ms (Views: 21.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 39.3ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:18:56 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.3ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 111110 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 111110 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (111110, 'ONE PIECE', 'tv', NULL, '/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg', '2023-08-31', '2025-10-23 22:18:56.905456', '2025-10-23 22:18:56.905456') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc338b68>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 14 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 14, 'watched', '2025-10-23', '2025-10-23 22:18:56.926427', '2025-10-23 22:18:56.926427') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=one+piece&media_type=&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 34ms (ActiveRecord: 18.6ms (6 queries, 0 cached) | GC: 1.4ms)


Started GET "/media_items/search?q=one+piece&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-23 18:18:56 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "one piece", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 15.8ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | GC: 2.2ms)
Completed 200 OK in 95ms (Views: 17.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 2.2ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:18:58 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:19:01 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.3ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:19:41 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.7ms | GC: 0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.5ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.5ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.5ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."media_type" = 'tv' ORDER BY "media_items"."created_at" DESC LIMIT 3 /*application='Mediatrack'*/[0m
Started GET "/anime" for ::1 at 2025-10-23 18:21:12 -0400
Processing by MediaItemsController#anime as */*
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/anime" for ::1 at 2025-10-23 18:21:29 -0400
Processing by MediaItemsController#anime as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Update All (14.8ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE "media_items"."id" IN (13, 14) /*application='Mediatrack'*/[0m
Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-23 18:24:12 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 184ms (Views: 6.0ms | ActiveRecord: 2.0ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:24:14 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.1ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 42821 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 42821 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (42821, 'Welcome to the N-H-K', 'tv', NULL, '/hIsRcWso57zxD2MWBSqze5G4NDS.jpg', '2006-07-09', '2025-10-23 22:24:14.906318', '2025-10-23 22:24:14.906318') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (32.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dc2a7820>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 15 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 15, 'watched', '2025-10-23', '2025-10-23 22:24:14.950400', '2025-10-23 22:24:14.950400') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=welcome+to+the+nhk&media_type=&source=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 62ms (ActiveRecord: 38.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&source=&commit=search" for 127.0.0.1 at 2025-10-23 18:24:14 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "source" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 34.5ms | GC: 31.1ms)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | GC: 31.1ms)
Completed 200 OK in 108ms (Views: 36.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 31.1ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:24:16 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 8.1ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.7ms)
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 1.6ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:24:19 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 5.9ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 1.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.5ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE (title LIKE '%NHK%') ORDER BY "media_items"."id" ASC LIMIT 1 /*application='Mediatrack'*/[0m
  [1m[36mMediaItem Update All (0.1ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE (title LIKE '%NHK%') /*application='Mediatrack'*/[0m
Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:30:34 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (1.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 11.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.3ms)
Completed 200 OK in 36ms (Views: 12.9ms | ActiveRecord: 13.3ms (3 queries, 0 cached) | GC: 1.4ms)


Started DELETE "/watchlist_items/16" for 127.0.0.1 at 2025-10-23 18:30:36 -0400
Processing by WatchlistItemsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 16 LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:24:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mWatchlistItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "watchlist_items" WHERE "watchlist_items"."id" = 16 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (32.1ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
Redirected to http://127.0.0.1:3000/tv
↳ app/controllers/watchlist_items_controller.rb:26:in 'WatchlistItemsController#destroy'
Completed 302 Found in 42ms (ActiveRecord: 33.8ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:30:36 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:30:38 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/watchlist_items/15" for 127.0.0.1 at 2025-10-23 18:30:42 -0400
Processing by WatchlistItemsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 15 LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:24:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mWatchlistItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "watchlist_items" WHERE "watchlist_items"."id" = 15 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
Redirected to http://127.0.0.1:3000/anime
↳ app/controllers/watchlist_items_controller.rb:26:in 'WatchlistItemsController#destroy'
Completed 302 Found in 22ms (ActiveRecord: 15.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:30:42 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:30:44 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:30:45 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=one+piece&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:30:50 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "one piece", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 28.0ms | GC: 19.7ms)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | GC: 19.7ms)
Completed 200 OK in 207ms (Views: 29.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 19.7ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:30:53 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dea737a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dea737a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.3ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 111110 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dea737a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59dea737a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "tv", "poster_path" => "/lXl3ZbY5TksOdt6eYgdyg6vsnFW.jpg", "release_date" => "2023-08-31", "status" => "watched", "title" => "ONE PIECE", "tmdb_id" => "111110", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 14 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 14, 'watched', '2025-10-23', '2025-10-23 22:30:53.212114', '2025-10-23 22:30:53.212114') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=one+piece&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 31ms (ActiveRecord: 19.2ms (4 queries, 0 cached) | GC: 1.4ms)


Started GET "/media_items/search?q=one+piece&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:30:53 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "one piece", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 7.0ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 1.5ms)
Completed 200 OK in 60ms (Views: 8.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 2.1ms)


Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:30:58 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 61ms (Views: 3.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.6ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:31:02 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7a5d670>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7a5d670>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.4ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 42821 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7a5d670>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f59b7a5d670>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 15 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 15, 'watched', '2025-10-23', '2025-10-23 22:31:02.960985', '2025-10-23 22:31:02.960985') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 31ms (ActiveRecord: 17.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:31:02 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 3.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:31:04 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 1.1ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:31:08 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 6.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.2ms)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:31:11 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:32:30 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:33:16 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Mediatrack'*/[0m
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 24.3ms | ActiveRecord: 14.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=code+geass&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:33:20 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "code geass", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 13.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 0.0ms)
Completed 200 OK in 175ms (Views: 15.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:33:22 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 31724 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 31724 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.3ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (31724, 'Code Geass: Lelouch of the Rebellion', 'anime', NULL, '/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg', '2006-10-05', '2025-10-23 22:33:22.804669', '2025-10-23 22:33:22.804669') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f582227b240>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/x316WCogkeIwNY4JR8zTCHbI2nQ.jpg", "release_date" => "2006-10-05", "status" => "watched", "title" => "Code Geass: Lelouch of the Rebellion", "tmdb_id" => "31724", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 16 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.4ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 16, 'watched', '2025-10-23', '2025-10-23 22:33:22.838718', '2025-10-23 22:33:22.838718') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=code+geass&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 56ms (ActiveRecord: 22.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=code+geass&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:33:22 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "code geass", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 7.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.0ms)
Completed 200 OK in 93ms (Views: 9.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:33:24 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.6ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 1.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:33:27 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/watchlist_items/18" for 127.0.0.1 at 2025-10-23 18:33:28 -0400
Processing by WatchlistItemsController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "18"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  [1m[36mWatchlistItem Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items".* FROM "watchlist_items" WHERE "watchlist_items"."user_id" = 4 AND "watchlist_items"."id" = 18 LIMIT 1 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:24:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mWatchlistItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "watchlist_items" WHERE "watchlist_items"."id" = 18 /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT /*action='destroy',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:25:in 'WatchlistItemsController#destroy'
Redirected to http://127.0.0.1:3000/tv
↳ app/controllers/watchlist_items_controller.rb:26:in 'WatchlistItemsController#destroy'
Completed 302 Found in 23ms (ActiveRecord: 15.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:33:28 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.2ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.7ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:33:30 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:33:35 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 3.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:33:37 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821c4e610>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821c4e610>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 42821 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821c4e610>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821c4e610>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/hIsRcWso57zxD2MWBSqze5G4NDS.jpg", "release_date" => "2006-07-09", "status" => "watched", "title" => "Welcome to the N-H-K", "tmdb_id" => "42821", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 15 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 15, 'watched', '2025-10-23', '2025-10-23 22:33:37.730719', '2025-10-23 22:33:37.730719') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 31ms (ActiveRecord: 19.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=welcome+to+the+nhk&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:33:37 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "welcome to the nhk", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/tv" for 127.0.0.1 at 2025-10-23 18:33:39 -0400
Processing by MediaItemsController#tv as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'planned' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.3ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'tv' AND "watchlist_items"."status" = 'watched' /*action='tv',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:34:44 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/media_items/search?q=classroom+of+the+elite&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:34:50 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "classroom of the elite", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 4.5ms | GC: 2.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 2.0ms)
Completed 200 OK in 134ms (Views: 6.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 2.0ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:34:52 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 72517 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 72517 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (72517, 'Classroom of the Elite', 'anime', NULL, '/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg', '2017-07-12', '2025-10-23 22:34:52.171350', '2025-10-23 22:34:52.171350') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f58225800a8>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "anime", "poster_path" => "/yuHanbUUIv2UWRxxQFt9n8jtmOJ.jpg", "release_date" => "2017-07-12", "status" => "watched", "title" => "Classroom of the Elite", "tmdb_id" => "72517", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 17 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.3ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 17, 'watched', '2025-10-23', '2025-10-23 22:34:52.178621', '2025-10-23 22:34:52.178621') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=classroom+of+the+elite&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 21ms (ActiveRecord: 5.1ms (6 queries, 0 cached) | GC: 1.6ms)


Started GET "/media_items/search?q=classroom+of+the+elite&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:34:52 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "classroom of the elite", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.7ms)
Completed 200 OK in 108ms (Views: 3.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.6ms)


Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:34:53 -0400
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.4ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 8.3ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.8ms)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.8ms)


Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (14.3ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE (title LIKE '%NHK%') ORDER BY "media_items"."id" ASC LIMIT 1 /*application='Mediatrack'*/[0m
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Load (0.5ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."media_type" = 'tv' ORDER BY "media_items"."created_at" DESC LIMIT 5 /*application='Mediatrack'*/[0m
Missing env vars: STRIPE_SECRET_KEY
STRIPE_SECRET_KEY is not set; Stripe API calls will fail
  [1m[36mMediaItem Update All (14.8ms)[0m  [1m[33mUPDATE "media_items" SET "media_type" = 'anime' WHERE "media_items"."id" = 15 /*application='Mediatrack'*/[0m
Started GET "/anime" for 127.0.0.1 at 2025-10-23 18:36:24 -0400
DEPRECATION WARNING: resource received a hash argument only. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument path_names. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
DEPRECATION WARNING: resource received a hash argument controller. Please use a keyword instead. Support to hash argument will be removed in Rails 8.2. (called from block in <main> at /home/hanzo/documents/git/mediatrack/config/routes.rb:2)
Processing by MediaItemsController#anime as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:36:in 'MediaItemsController#render_section'
  Rendering layout layouts/application.html.erb
  Rendering media_items/section.html.erb within layouts/application
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'planned' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:10
  [1m[36mWatchlistItem Eager Load (0.5ms)[0m  [1m[34mSELECT "watchlist_items"."id" AS t0_r0, "watchlist_items"."user_id" AS t0_r1, "watchlist_items"."media_item_id" AS t0_r2, "watchlist_items"."status" AS t0_r3, "watchlist_items"."watched_on" AS t0_r4, "watchlist_items"."created_at" AS t0_r5, "watchlist_items"."updated_at" AS t0_r6, "media_items"."id" AS t1_r0, "media_items"."tmdb_id" AS t1_r1, "media_items"."title" AS t1_r2, "media_items"."media_type" AS t1_r3, "media_items"."overview" AS t1_r4, "media_items"."poster_path" AS t1_r5, "media_items"."release_date" AS t1_r6, "media_items"."created_at" AS t1_r7, "media_items"."updated_at" AS t1_r8 FROM "watchlist_items" INNER JOIN "media_items" ON "media_items"."id" = "watchlist_items"."media_item_id" WHERE "watchlist_items"."user_id" = 4 AND "media_items"."media_type" = 'anime' AND "watchlist_items"."status" = 'watched' /*action='anime',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/media_items/section.html.erb:29
  Rendered media_items/section.html.erb within layouts/application (Duration: 13.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.6ms)
Completed 200 OK in 39ms (Views: 16.0ms | ActiveRecord: 7.2ms (3 queries, 0 cached) | GC: 2.5ms)


Started GET "/media_items/search" for 127.0.0.1 at 2025-10-23 18:36:30 -0400
Processing by MediaItemsController#search as HTML
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 1.8ms | GC: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/views/layouts/application.html.erb:28
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/media_items/search?q=falling+down&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:36:37 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "falling down", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 45.2ms | GC: 32.1ms)
  Rendered layout layouts/application.html.erb (Duration: 47.0ms | GC: 32.9ms)
Completed 200 OK in 220ms (Views: 48.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 38.1ms)


Started POST "/watchlist_items" for 127.0.0.1 at 2025-10-23 18:36:44 -0400
Processing by WatchlistItemsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mMediaItem Load (0.2ms)[0m  [1m[34mSELECT "media_items".* FROM "media_items" WHERE "media_items"."tmdb_id" = 37094 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:42:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "media_items" WHERE "media_items"."tmdb_id" = 37094 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mMediaItem Create (0.2ms)[0m  [1m[32mINSERT INTO "media_items" ("tmdb_id", "title", "media_type", "overview", "poster_path", "release_date", "created_at", "updated_at") VALUES (37094, 'Falling Down', 'movie', NULL, '/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg', '1993-02-26', '2025-10-23 22:36:44.886504', '2025-10-23 22:36:44.886504') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
  [1m[36mTRANSACTION (32.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:47:in 'WatchlistItemsController#find_or_create_media_item'
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
[31mUnpermitted parameter: :authenticity_token. Context: { controller: WatchlistItemsController, action: create, request: #<ActionDispatch::Request:0x00007f5821aa43a0>, params: {"authenticity_token" => "[FILTERED]", "media_type" => "movie", "poster_path" => "/7ujqyF96Zg3rfrsh9M0cEF0Yzqj.jpg", "release_date" => "1993-02-26", "status" => "watched", "title" => "Falling Down", "tmdb_id" => "37094", "watched_on" => "2025-10-23", "controller" => "watchlist_items", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "watchlist_items" WHERE "watchlist_items"."media_item_id" = 18 AND "watchlist_items"."user_id" = 4 LIMIT 1 /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mWatchlistItem Create (0.6ms)[0m  [1m[32mINSERT INTO "watchlist_items" ("user_id", "media_item_id", "status", "watched_on", "created_at", "updated_at") VALUES (4, 18, 'watched', '2025-10-23', '2025-10-23 22:36:44.934369', '2025-10-23 22:36:44.934369') RETURNING "id" /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Mediatrack',controller='watchlist_items'*/[0m
  ↳ app/controllers/watchlist_items_controller.rb:7:in 'WatchlistItemsController#create'
Redirected to http://127.0.0.1:3000/media_items/search?q=falling+down&media_type=&commit=search
↳ app/controllers/watchlist_items_controller.rb:8:in 'WatchlistItemsController#create'
Completed 302 Found in 72ms (ActiveRecord: 41.1ms (6 queries, 0 cached) | GC: 16.8ms)


Started GET "/media_items/search?q=falling+down&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:36:44 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "falling down", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 20.4ms | GC: 11.3ms)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | GC: 11.3ms)
Completed 200 OK in 113ms (Views: 22.7ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 15.2ms)


Started GET "/media_items/search?q=falling+down&media_type=&commit=search" for 127.0.0.1 at 2025-10-23 18:37:42 -0400
Processing by MediaItemsController#search as HTML
  Parameters: {"q" => "falling down", "media_type" => "", "commit" => "search"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='search',application='Mediatrack',controller='media_items'*/[0m
  ↳ app/controllers/media_items_controller.rb:18:in 'MediaItemsController#search'
  Rendering layout layouts/application.html.erb
  Rendering media_items/search.html.erb within layouts/application
  Rendered media_items/search.html.erb within layouts/application (Duration: 8.9ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 1.5ms)
Completed 200 OK in 105ms (Views: 10.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 2.2ms)


